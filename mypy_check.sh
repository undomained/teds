#!/bin/bash

# Run mypy to check for PEP 8 violations on all Python
# source files, including the tests.

all_files=$(find teds -name "*.py" -regextype posix-extended -not -regex "teds/(lib/__init__|lib/constants|lib/hapi|lib/libGM|lib/libRT|lib/libSURF|lib/paths|lib/data_netcdf/__init__|lib/data_netcdf/attributes|lib/data_netcdf/dimensions|lib/data_netcdf/groups|lib/data_netcdf/data_netcdf|lib/data_netcdf/variables|lib/libINV|lib/libOrbSim|lib/libAMF|lib/libATM|lib/libDOAS|lib/libMeteo|lib/libNumTools|lib/libRT_no2|lib/libSGM|lib/libWrite|lib/lib_utils|io/check_config_file|gm/__init__|gm/create_gm_yaml_file|gm/gm|sgm/__init__|sgm/create_sgm_yaml_file|sgm/sgm_no2|sgm/sgm_Carbon_radscene|sgm/sgm_geoscene|im/create_im_configuration_file_nitro|ckd/ckd_generation/ckd_generator_carbon|ckd/ckd_generation/ckd_generator_nitro|ckd/ckd_generation/generator_class|ckd/ckd_generation/nitro_ckds/DARK/dark_current|ckd/ckd_generation/nitro_ckds/DARK/dark_nominal_temperature|ckd/ckd_generation/nitro_ckds/DARK/dark_offset|ckd/ckd_generation/nitro_ckds/FIELD_OF_VIEW/fov_act_angles|ckd/ckd_generation/nitro_ckds/FIELD_OF_VIEW/fov_ispat|ckd/ckd_generation/nitro_ckds/NOISE/noise_g|ckd/ckd_generation/nitro_ckds/NOISE/noise_n|ckd/ckd_generation/nitro_ckds/PRNU/prnu_prnu|ckd/ckd_generation/nitro_ckds/RADIOMETRIC/isrf|ckd/ckd_generation/nitro_ckds/RADIOMETRIC/quantum_efficiency|ckd/ckd_generation/nitro_ckds/RADIOMETRIC/rad_spectra|ckd/ckd_generation/nitro_ckds/WAVELENGTH/wave_map|ckd/ckd_generation/nitro_ckds/WAVELENGTH/wave_spectra|ckd/ckd_generation/nitro_ckds/WAVELENGTH/wave_target|ckd/ckd_generation/nitro_ckds/mask|ckd/ckd_generation/nitro_ckds/vp_mask|ckd/create_binning_tables|l1al1b/create_l1a1b_configuration_file_nitro|l1l2/__init__|l1l2/create_l2_yaml_file|l1l2/sl2|l1l2/l1bl2_no2|l1l2/l1bl2|l2l4/ModuleCFM|l2l4/ModuleDataContainer|l2l4/ModuleLSQ|l2l4/ModuleLevel2|l2l4/ModulePlume|l2l4/ModulePreProcessing|l2l4/ModuleReadMicroHH|l2l4/ModuleRemoveBackground|l2l4/__init__|l2l4/l2l4|pam/pam|siml1b/__init__|siml1b/radiance_offset|siml1b/siml1b|__init__|run_E2E).py")
mypy $all_files
exit $?
